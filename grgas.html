<!DOCTYPE html>
<html lang="id" class="dark"> <!-- Default ke dark mode -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Monitoring GEGAS (Dark/Light Mode)</title>
    
    <!-- Memuat Library React, ReactDOM, dan Babel -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Memuat Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Konfigurasi Font dan Warna Dasar -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* CSS tambahan untuk transisi dan efek kustom */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .card-transition {
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900">

    <div id="root"></div>

    <script type="text/babel">
        // Komponen untuk membuat ikon SVG
        const Icon = ({ type, className = "w-6 h-6" }) => {
            const icons = {
                frequency: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2" /></svg>,
                voltage: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" /></svg>,
                amperage: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10" /><path d="M12 16v-4" /><path d="M12 8h.01" /><path d="M8 12h8" /></svg>,
                power: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 3v1" /><path d="M18.36 5.64l-.7.7" /><path d="M21 12h-1" /><path d="M18.36 18.36l-.7-.7" /><path d="M12 21v-1" /><path d="M5.64 18.36l.7-.7" /><path d="M3 12h1" /><path d="M5.64 5.64l.7.7" /><circle cx="12" cy="12" r="2" /></svg>,
                flow: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1-5 0" /><path d="M12 5.2V19" /><path d="M15 11H9" /></svg>,
                pressure: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10z" /><path d="m12 12 4 4" /><path d="M22 22 18 18" /></svg>,
                sun: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>,
                moon: <svg xmlns="http://www.w3.org/2000/svg" className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>,
            };
            return icons[type] || null;
        };

        // Komponen Gauge (pengukur) yang diperbarui dengan dukungan tema
        const Gauge = ({ value, max, unit, label, iconType }) => {
            const radius = 85;
            const circumference = 2 * Math.PI * radius;
            const percentage = Math.min(100, (value / max) * 100);
            const offset = circumference - (percentage / 100) * circumference;

            return (
                <div className="card-transition rounded-2xl p-6 shadow-lg bg-white/70 backdrop-blur-lg border border-gray-200 dark:bg-gray-800/70 dark:border-gray-700/80 hover:shadow-green-500/10 dark:hover:shadow-green-400/20 hover:-translate-y-1">
                    <div className="flex items-center justify-between text-gray-500 dark:text-gray-400 mb-4">
                        <h3 className="font-semibold text-lg text-gray-700 dark:text-gray-300">{label}</h3>
                        <div className="text-green-500"><Icon type={iconType} /></div>
                    </div>
                    <div className="relative flex items-center justify-center h-48">
                        <svg className="w-full h-full" viewBox="0 0 200 200">
                            <circle stroke="rgba(0,0,0,0.05)" className="dark:stroke-white/5" fill="transparent" strokeWidth="15" r={radius} cx="100" cy="100"/>
                            <circle
                                stroke="url(#gradient)" fill="transparent" strokeWidth="15" strokeLinecap="round" r={radius} cx="100" cy="100"
                                style={{ strokeDasharray: circumference, strokeDashoffset: offset, transform: 'rotate(-90deg)', transformOrigin: '50% 50%', transition: 'stroke-dashoffset 0.5s ease-out' }}/>
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stopColor="#34d399" />
                                    <stop offset="100%" stopColor="#059669" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <div className="absolute flex flex-col items-center justify-center">
                            <span className="text-4xl font-bold text-gray-900 dark:text-white tracking-tighter">
                                {value.toFixed(1)}
                            </span>
                            <span className="text-lg text-green-600 dark:text-green-400">{unit}</span>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Komponen utama aplikasi
        const App = () => {
            const [theme, setTheme] = React.useState('dark');
            const [data, setData] = React.useState({
                frequency: 50.0,
                voltage: 220.0,
                amperage: 15.0,
                power: 3300.0,
                flowGas: 25.0,
                pressure: 150.0,
            });

            // Efek untuk mengubah tema pada HTML
            React.useEffect(() => {
                const root = window.document.documentElement;
                root.classList.remove(theme === 'dark' ? 'light' : 'dark');
                root.classList.add(theme);
            }, [theme]);

            // Efek untuk simulasi data real-time
            React.useEffect(() => {
                const interval = setInterval(() => {
                    setData(() => {
                        const newVoltage = 220 + (Math.random() - 0.5) * 5; // Fluktuasi 217.5 - 222.5
                        const newAmperage = 15 + (Math.random() - 0.5) * 2; // Fluktuasi 14 - 16
                        return {
                            frequency: 50 + (Math.random() - 0.5) * 0.4,
                            voltage: newVoltage,
                            amperage: newAmperage,
                            power: newVoltage * newAmperage, // dalam Watt
                            flowGas: 25 + (Math.random() - 0.5) * 1.5,
                            pressure: 150 + (Math.random() - 0.5) * 3,
                        }
                    });
                }, 2000);
                return () => clearInterval(interval);
            }, []);

            const toggleTheme = () => {
                setTheme(prevTheme => (prevTheme === 'dark' ? 'light' : 'dark'));
            };

            return (
                <div className="min-h-screen w-full p-4 sm:p-6 lg:p-8 text-gray-800 dark:text-gray-200">
                    <header className="mb-8 flex justify-between items-center">
                        <div className="text-left">
                            <h1 className="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white">Dashboard Monitoring GEGAS</h1>
                            <div className="mt-2 flex items-center gap-2">
                                <div className="relative flex h-3 w-3">
                                    <span className="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span>
                                    <span className="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                                </div>
                                <p className="text-green-600 dark:text-green-400">Status: <span className="font-semibold">Online</span></p>
                            </div>
                        </div>
                        <button onClick={toggleTheme} className="p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                            {theme === 'dark' ? <Icon type="sun" /> : <Icon type="moon" />}
                        </button>
                    </header>
                    
                    <main className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <Gauge label="Frekuensi" value={data.frequency} max={60} unit="Hz" iconType="frequency"/>
                        <Gauge label="Voltase" value={data.voltage} max={250} unit="V" iconType="voltage"/>
                        <Gauge label="Arus" value={data.amperage} max={50} unit="A" iconType="amperage"/>
                        <Gauge label="Daya" value={data.power} max={5000} unit="Watt" iconType="power"/>
                        <Gauge label="Aliran Gas" value={data.flowGas} max={50} unit="m³/h" iconType="flow"/>
                        <Gauge label="Tekanan" value={data.pressure} max={200} unit="PSI" iconType="pressure"/>
                    </main>
                    
                    <footer className="text-center mt-12 text-gray-500 dark:text-gray-400 text-sm">
                        <p>&copy; {new Date().getFullYear()} Sistem Monitoring Cerdas. Dibuat dengan React & Tailwind CSS.</p>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));

    </script>

</body>
</html>

